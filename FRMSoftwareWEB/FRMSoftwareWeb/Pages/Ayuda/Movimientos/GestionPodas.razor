@page "/Ayuda/Movimientos/GestionPodas"

<div class="container py-5" style="min-height: calc(100vh - 3.5rem); overflow-y: auto;">
    <h2 class="fw-bold mb-4"><i class="bi bi-scissors"></i> Ayuda: Gestión de Podas</h2>

    <p>
        Esta pantalla permite registrar, modificar y consultar las podas realizadas en una plantación de berries.
        El proceso inicia al pulsar el botón <strong>Nuevo</strong>, que activa el formulario para capturar la información requerida.
        Para seleccionar la <strong>plantación</strong>, el <strong>cultivo</strong>, el <strong>vivero</strong>, el <strong>rancho</strong> y la <strong>llave</strong>,
        cada sección dispone de un botón <strong>Seleccionar</strong> que abre un modal con las opciones disponibles.
        Si no se seleccionan estos elementos, no será posible guardar el registro.
        Para entender el funcionamiento de los botones generales (<strong>Nuevo</strong>, <strong>Guardar</strong>, <strong>Modificar</strong>, <strong>Cancelar</strong> y <strong>Consultar</strong>),
        visita la sección
        <a href="/Ayuda/AyudaGeneral/BotonesGenerales" class="text-decoration-underline">Botones Generales</a>.
    </p>

    <p>
        La consulta de registros puede realizarse de manera general o filtrando por periodo.
        Para conocer más sobre la consulta por periodo, consulta
        <a href="/Ayuda/AyudaGeneral/BusquedaPeriodo" class="text-decoration-underline">Búsqueda por Periodo</a>.
    </p>

    <h4 class="fw-bold mt-4">Descripción rápida</h4>
    <ul>
        <li><strong>Nuevo:</strong> Activa el formulario para registrar una nueva poda. Es necesario seleccionar la plantación y demás datos asociados antes de capturar la información.</li>
        <li><strong>Seleccionar (Plantación, Cultivo, Rancho o Llave):</strong> Cada botón abre un modal para elegir un elemento. Si no se selecciona, los campos relacionados quedarán vacíos y no se podrá guardar el registro.</li>
        <li><strong>Guardar:</strong> Valida y almacena la información de la poda, incluyendo el tipo, la fecha y la semana correspondiente. Al elegir la fecha de poda, el sistema calcula automáticamente el número de semana.</li>
        <li><strong>Fecha de poda y número de semana:</strong> Al seleccionar la fecha, el sistema calcula automáticamente el <strong>número de semana</strong> correspondiente y lo carga en su campo.</li>
        <li><strong>Modificar:</strong> Permite cargar una poda existente para editarla o eliminarla. Después de modificar, pulsa <strong>Guardar</strong> para aplicar los cambios.</li>
        <li><strong>Cancelar:</strong> Cancela la operación actual y restablece el formulario a su estado inicial.</li>
        <li><strong>Consultar:</strong> Abre una vista de solo lectura con los registros de podas, donde puedes filtrar, buscar y exportar los datos en <strong>PDF</strong> o <strong>Excel</strong>.</li>
    </ul>

    <h4 class="fw-bold mt-5">Ejemplos visuales</h4>

    <h5 class="mt-4">Estado: Nuevo registro</h5>
    <div class="mb-4">
        <img src="images/Ayuda/Movimientos/GestionPodas01.png" alt="Formulario en modo Nuevo"
             style="max-width: 700px; width: 100%; border: 1px solid #ccc; border-radius: 4px;" />
        <p class="mt-2 text-muted">
            Al pulsar <strong>Nuevo</strong>, se habilita el formulario para capturar la poda. Comienza seleccionando la plantación y los datos relacionados desde los botones <strong>Seleccionar</strong>.
        </p>
    </div>

    <h5 class="mt-4">Estado: Selección y captura de datos</h5>
    <div class="mb-4">
        <img src="images/Ayuda/Movimientos/GestionPodas02.png" alt="Formulario con datos seleccionados"
             style="max-width: 700px; width: 100%; border: 1px solid #ccc; border-radius: 4px;" />
        <p class="mt-2 text-muted">
            Después de seleccionar la plantación, el sistema muestra los datos asociados, como la fecha de plantación y el número de semana. Selecciona el tipo de poda, la fecha y el sistema calculará la semana automáticamente.
        </p>
    </div>

    <h5 class="mt-4">Estado: Modificar registro</h5>
    <div class="mb-4">
        <img src="images/Ayuda/Movimientos/GestionPodas03.png" alt="Formulario en modo Modificar"
             style="max-width: 700px; width: 100%; border: 1px solid #ccc; border-radius: 4px;" />
        <p class="mt-2 text-muted">
            Al seleccionar un registro y pulsar <strong>Modificar</strong>, puedes editar los datos de la poda. Luego, usa <strong>Guardar</strong> para actualizar la información.
        </p>
    </div>

    <h5 class="mt-4">Estado: Consultar registros</h5>
    <div class="mb-4">
        <img src="images/Ayuda/Movimientos/GestionPodas04.png" alt="Vista de consulta"
             style="max-width: 700px; width: 100%; border: 1px solid #ccc; border-radius: 4px;" />
        <p class="mt-2 text-muted">
            En modo consulta puedes revisar las podas sin editar. Utiliza los filtros para buscar registros y exportarlos a <strong>PDF</strong> o <strong>Excel</strong>.
        </p>
    </div>
</div>

@code {
}
